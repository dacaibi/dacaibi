<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        .div{
            width: 100px;
            height: 100px;
            background: #4BC587;
            position: absolute;
        }
        .box{
            border: 1px solid #000;
            position: absolute;
        }
    </style>
    <script>
        window.onload=function () {
            var div=document.querySelector('.div');
            var disX=0;
            var disY=0;
            div.onmousedown=function (ev) {
                disX=ev.clientX-div.offsetLeft;
                disY=ev.clientY-div.offsetTop;
                document.onmousemove=function (ev) {
                    div.style.left=ev.clientX-disX+'px';
                    div.style.top=ev.clientY-disY+'px';
                    var oBox=document.createElement('div');
                    oBox.classList.add('box');
                    document.body.appendChild(oBox);
                    oBox.style.left=ev.clientX+'px';
                    oBox.style.top=ev.clientY+'px';
                };
                document.onmouseup=function () {
                    document.onmousemove=document.onmouseup=null;
                };
                return false;
            };
        }
    </script>
</head>
<body>
    <div class="div"></div>
</body>
</html>